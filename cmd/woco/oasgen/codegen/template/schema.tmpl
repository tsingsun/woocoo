{{/* gotype: github.com/tsingsun/woocoo/cmd/woco/oasgen/codegen.Graph */}}

{{ define "schema"}}

{{ $pkg := base $.Config.Package }}
{{ template "header" $ }}

{{ template "import" $ }}

{{- range .Schemas}}
    {{- if not .IsReplace}}
        {{- if not .Properties }}
            type {{ pascal .Name }} {{ .Type }}
        {{ else }}
            type {{ pascal .Name }} struct {
            {{- range $key,$schema := .Properties }}
                {{- if $schema.IsInline }}
                    {{ $schema.Type }} `json:",inline"`
                {{- else }}
                    {{ pascal $key }} {{ .Type }} `{{ join .StructTags " " }}`
                {{- end }}
            {{- end }}
            }
        {{ end}}
    {{- end }}

{{- end}}

{{ end }}